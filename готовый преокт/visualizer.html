<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProStroy - –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/visualizer.css">
</head>
<body>
    <div class="wrapper">
        <header class="container">
            <img class="logo" src="img/logo.png" alt="ProStroy">
            <nav>
                <ul>
                    <li class="btn"><a href="index.html">–≥–ª–∞–≤–Ω–∞—è</a></li>
                    <li class="btn"><a href="#" id="auth-link">–≤–æ–π—Ç–∏</a></li>
                    <li class="btn"><a href="materials.html">–º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></li>
                    <li class="active"><a href="visualizer.html">–≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä</a></li>
                    <li class="btn"><button id="themeToggle" class="theme-toggle">üåì</button></li>
                </ul>
            </nav>
        </header>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div id="public-content">
            <div class="material">
                <p>–í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –º–æ–¥—É–ª—å–Ω—ã—Ö –¥–æ–º–æ–≤</p>
            </div>

            <div class="login-prompt container">
                <h3>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä—É —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
                <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</p>
                <button class="btn" onclick="auth.showAuth()" style="margin-top: 20px;">
                    <a style="text-decoration: none; color: #228a8a;">–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</a>
                </button>
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div id="protected-content" class="protected-content">
            <div class="material">
                <p>–í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –º–æ–¥—É–ª—å–Ω—ã—Ö –¥–æ–º–æ–≤</p>
            </div>

            <div class="visualization-container container">
                <div class="control-panel">
                    <h2>–ú–æ–¥—É–ª–∏</h2>
                    <div class="modules-grid" id="modulesGrid">
                        <!-- –ú–æ–¥—É–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                    
                    <h2>–í–∏–¥</h2>
                    <div class="view-controls">
                        <button class="view-btn active" data-view="front">–§–∞—Å–∞–¥</button>
                        <button class="view-btn" data-view="side">–ë–æ–∫</button>
                        <button class="view-btn" data-view="top">–í–µ—Ä—Ö</button>
                    </div>
                    
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h2>
                    <button id="deleteSelected" class="remove-btn" style="width: 100%; margin-top: 0.5rem;">–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π</button>
                    <button id="clearAll" class="remove-btn" style="width: 100%; margin-top: 0.5rem; background-color: #6b7280;">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
                </div>
                
                <div class="visualization-area">
                    <h2>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h2>
                    <div class="visualization-container-area" id="visualizationContainer">
                        <!-- –ú–æ–¥—É–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-top: 1rem;">
                        <div>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –º–æ–¥—É–ª–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è</div>
                        <div>–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è</div>
                    </div>
                </div>
                
                <div class="cart-panel">
                    <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
                    <div class="cart-items" id="cartItems">
                        <!-- –≠–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ä–∑–∏–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                    <div class="cart-total" id="cartTotal">
                        –ò—Ç–æ–≥–æ: ‚ÇΩ0
                    </div>
                    <button class="checkout-btn" id="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div id="authModal" class="auth-modal">
            <div class="auth-container">
                <div id="login-form" class="auth-form">
                    <h2>–í—Ö–æ–¥</h2>
                    <div class="form-group">
                        <label for="login-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" id="login-username" required>
                        <div class="error-message" id="login-username-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="login-password">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="login-password" required>
                        <div class="error-message" id="login-password-error"></div>
                    </div>
                    <button type="submit" class="auth-btn" onclick="auth.handleLogin()">–í–æ–π—Ç–∏</button>
                    <div class="auth-switch">
                        –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="auth.showRegisterForm()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
                    </div>
                    <button type="button" class="auth-btn auth-btn--secondary" onclick="auth.hideAuth()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>

                <div id="register-form" class="auth-form">
                    <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
                    <div class="form-group">
                        <label for="register-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" id="register-username" required>
                        <div class="error-message" id="register-username-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="register-password">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password" required>
                        <div class="error-message" id="register-password-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="register-password-confirm">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                        <input type="password" id="register-password-confirm" required>
                        <div class="error-message" id="register-password-confirm-error"></div>
                    </div>
                    <button type="submit" class="auth-btn" onclick="auth.handleRegister()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                    <div class="auth-switch">
                        –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="auth.showLoginForm()">–í–æ–π—Ç–∏</a>
                    </div>
                    <button type="button" class="auth-btn auth-btn--secondary" onclick="auth.hideAuth()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>

        <footer class="footer">
    <div class="footer-content container">
        <div class="footer-section about">
            <h3>ProStroy</h3>
            <p>–õ—É—á—à–∞—è –∫–æ–º–ø–∞–Ω–∏—è –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤—É –º–æ–¥—É–ª—å–Ω—ã—Ö —Å–æ–æ—Ä—É–∂–µ–Ω–∏–π. –ú—ã —Å–æ–∑–¥–∞–µ–º –±—É–¥—É—â–µ–µ –≤–º–µ—Å—Ç–µ —Å –≤–∞–º–∏.</p>
            <div class="social-links">
                <a href="#" class="social-link">VK</a>
                <a href="#" class="social-link">Telegram</a>
                <a href="#" class="social-link">Instagram</a>
            </div>
        </div>
        
        <div class="footer-section navigation">
            <h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
            <ul>
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="materials.html" id="materials-link-footer">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a></li>
                <li><a href="visualizer.html">–í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä</a></li>
                <li><a href="#" id="auth-link-footer">–í–æ–π—Ç–∏</a></li>
            </ul>
        </div>
        
        <div class="footer-section contacts">
            <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
            <ul>
                <li>üìû +7 (999) 123-45-67</li>
                <li>‚úâÔ∏è info@prostroy.ru</li>
                <li>üìç –ú–æ—Å–∫–≤–∞, —É–ª. –°—Ç—Ä–æ–∏—Ç–µ–ª–µ–π, 15</li>
                <li>üïí –ü–Ω-–ü—Ç: 9:00-18:00</li>
            </ul>
        </div>
        
        <div class="footer-section services">
            <h4>–£—Å–ª—É–≥–∏</h4>
            <ul>
                <li>–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
                <li>–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ</li>
                <li>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</li>
                <li>–î–æ—Å—Ç–∞–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</li>
            </ul>
        </div>
    </div>
    
    <div class="footer-bottom container">
        <p>&copy; 2024 ProStroy. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        <div class="footer-links">
            <a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
            <a href="#">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
        </div>
    </div>
</footer>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/visualizer.js"></script>
    <script src="js/theme.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing auth...');
            themeManager.init();
            auth.init();
            cart.init();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
            const currentUser = auth.getCurrentUser();
            if (currentUser) {
                console.log('User authenticated, initializing visualizer...');
                visualizer.init();
            } else {
                console.log('User not authenticated, visualizer not initialized');
            }
        });
    </script>
</body>
</html>